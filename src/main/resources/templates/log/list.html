<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Spring Core Online Tutorial - List Products</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link
	href="http://cdn.jsdelivr.net/webjars/bootstrap/3.3.4/css/bootstrap.min.css"
	th:href="@{/webjars/bootstrap/3.3.5/css/bootstrap.min.css}"
	rel="stylesheet" media="screen" />


<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

<style type="text/css">
.container-full {
	margin: 0 auto;
	width: 100%;
}
.table-condensed{
  font-size: 12px;
}
</style>
</head>
<body>
	<div class="container-fluid">
		<div class="container">
			<div class="panel panel-info">
				<div class="panel-body">
					<b th:text="${logs.size()}"></b> Record Found &nbsp;&nbsp; <b
						th:text="${logs.size()}"></b> Error Log Found&nbsp;&nbsp; <b
						th:text="${logs.size()}"></b> Java Exception Found&nbsp;&nbsp;
				</div>
			</div>
		</div>


		<form th:object="${LogSearch}" th:action="@{/log/list}" method="get">


			<div class="row">
				<div class="col-sm-5">
					<b style="color: red">Filter By LOG_LEVEL:</b>
					<th:block th:each="loglevel : ${LogSearch.LogLevels}">
						<input type="checkbox" th:checked="${loglevel.selected}"
							name="loglevelNames" th:value="${loglevel.name}" />
						<label th:text="${loglevel.name}"></label>
					</th:block>
				</div>
				<div class="col-sm-5">
					<b style="color: red">Filter By NF_TYPE:</b>
					<th:block th:each="nfType : ${LogSearch.NfTypes}">
						<input type="checkbox" th:checked="${nfType.selected}"
							name="selectedNfNames" th:value="${nfType.name}" />
						<label th:text="${nfType.name}"></label>
					</th:block>
				</div>
			</div>
			
			<div class="row">
				<div class="col-sm-5">
					<b style="color: red">Filter By FROM:</b>
					<th:block th:each="fromItem : ${LogSearch.fromNfTypesList}">
						<input type="checkbox" th:checked="${fromItem.selected}"
							name="fromList" th:value="${fromItem.name}" />
						<label th:text="${fromItem.name}"></label>
					</th:block>
				</div>
				<div class="col-sm-5">
					<b style="color: red">Filter By TO:</b>
					<th:block th:each="toItem : ${LogSearch.toNfTypesList}">
						<input type="checkbox" th:checked="${toItem.selected}"
							name="toList" th:value="${toItem.name}" />
						<label th:text="${toItem.name}"></label>
					</th:block>
				</div>
			</div>
			
			<div class="row">
				<div class="col-md-8">
					<input class="form-control" placeholder="Search"
						th:value="${LogSearch.search}" name="search" id="search"
						type="text">
				</div>
				<div class="col-md-4">
					<input type="submit" value="Search"
						class="btn btn-danger btn-block wrn-btn">
				</div>
			</div>
			<div class="row">
				<div class="col-md-2">
					<input class="form-control" placeholder="messageExcluded"
						th:value="${LogSearch.messageExcluded}" name="messageExcluded"
						id="messageExcluded" type="text">
				</div>
				<div class="col-md-2">
					<input class="form-control" placeholder="dataDetailExcluded"
						th:value="${LogSearch.dataDetailExcluded}"
						name="dataDetailExcluded" id="dataDetailExcluded" type="text">
				</div>
				<div class="col-md-2">
					<input class="form-control" placeholder="logLimit"
						th:value="${LogSearch.logLimit}" name="logLimit" id="logLimit"
						type="text">
				</div>
			</div>


			<div th:fragment="table (logs)">
				<div style="width: 100%;">
					<table id="logs" class="table table-striped table-hover table-condensed">
						<thead>
							<tr>
								<th scope="col" style="width: 3%">Id-LOG_TIME</th>
								<th scope="col" style="width: 3%">SPEC INFO</th>
								<th scope="col" style="width: 3%">SUPI-PEI</th>
								<th scope="col" style="width: 3%">NF INFO</th>
								<th scope="col" style="width: 3%">FROM-TO</th>
								<th scope="col" style="width: 3%">IP</th>
							</tr>
						</thead>
						<tbody>
							<th:block th:each="log : ${logs}">
								<tr th:classappend="${log.getCssClass()}">
									<td><b style="color: red" th:text="'ID:' +${log.id}"></b><br>
										<span th:text="${log.log_time}"></span>
										<span th:unless="${#strings.isEmpty(log.getLogTimeMinute())}" th:text="${log.getLogTimeMinute()}"></span>
										<br><span  th:unless="${#strings.isEmpty(log.status)}" th:text="'Status ' +${log.status}"></span>
										</td>
									<td th:text="${log.spec_info}"></td>
									<td><span th:unless="${#strings.isEmpty(log.supi)}" th:text="'SUPI:' +${log.supi}"></span><br>
										<span  th:unless="${#strings.isEmpty(log.pei)}" th:text="'PEI:' +${log.pei}"></span><br> <span
									th:unless="${#strings.isEmpty(log.snssai)}" 	th:text="'SNSSAI:' +${log.snssai}"></span><br></td>
									<td><span
										th:text="'NFYPE:' +${log.nf_type}+ ' NFNAME ' +${log.nf_name}"></span></td>
									<td class="textCol"><span
										th:text="' FROM ' +${log.from} + ' -  TO ' + ${log.to} "></span></td>
									<td><span th:text="'DEST_IP_PORT:' +${log.dest_ip_port}"></span><br>
										<span th:text="'SOURCE_IP_PORT:' +${log.source_ip_port}"></span><br>
									</td>
								</tr>
								<tr th:unless="${#strings.isEmpty(log.data_detail)}"
									th:attr="data-log_message=${log.id}"
									th:classappend="${log.getCssClass()}">
									<td colspan="6" class=" textCol"><b>DATA_DETAIL:</b> <span
										style="width: 100%; height: 120px;"
										th:text="${log.data_detail}"></span></td>
								</tr>
								<tr th:unless="${#strings.isEmpty(log.message)}"
									th:attr="data-log_message=${log.id}"
									th:classappend="${log.getCssClass()}">
									<td colspan="6" class=" textCol"><b>MESSAGE:</b> <span
										style="width: 100%; height: 120px;" th:text="${log.message}"></span>
									</td>
								</tr>
								<tr th:unless="${#strings.isEmpty(log.exception)}"
									th:attr="data-log_exception=${log.id}"
									th:classappend="${log.getCssClass()}">
									<td colspan="6" class=" textCol"><b>EXCEPTION:</b> <span
										style="width: 100%; height: 120px;" th:text="${log.exception}"></span>
									</td>
								</tr>
							</th:block>
						</tbody>
					</table>
				</div>
			</div>

		</form>


	</div>

</body>
</html>